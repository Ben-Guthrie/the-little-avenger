[gd_scene load_steps=9 format=4 uid="uid://d2eap3a87yusp"]

[ext_resource type="Script" path="res://levels/level_4.gd" id="1_05jpi"]
[ext_resource type="TileSet" uid="uid://bpqj3wfubuunh" path="res://assets/town_tileset.tres" id="2_75ijf"]
[ext_resource type="PackedScene" uid="uid://bhodgdmevucsl" path="res://environment/sword.tscn" id="3_mgual"]
[ext_resource type="PackedScene" uid="uid://cqx28vp8kokba" path="res://characters/timmy.tscn" id="8_klvtt"]
[ext_resource type="PackedScene" uid="uid://3bar45d4qj4m" path="res://characters/warrior.tscn" id="9_gdxcn"]
[ext_resource type="PackedScene" uid="uid://cycr7ijppuaug" path="res://characters/ghost.tscn" id="11_n4aqk"]
[ext_resource type="PackedScene" uid="uid://1m2umsuy8oo5" path="res://triggers/trigger.tscn" id="12_uvuj5"]

[sub_resource type="GDScript" id="GDScript_a6lyq"]
script/source = "extends Trigger


func trigger_effect(target: Node):
	print(\"level 2 complete\")
	SignalBus.level_complete.emit()
	queue_free()
"

[node name="Level4" type="Node2D"]
script = ExtResource("1_05jpi")
energy = 3

[node name="Background" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD//woAAQAIAAQAAAD//wkAAQAIAAQAAAD//wgAAQAIAAQAAAD//wUAAQAIAAQAAAD//wQAAQAIAAQAAAD//wcAAQAIAAQAAAD//wYAAQAKAAQAAAD//wMAAQAIAAQAAAD//wIAAQAIAAQAAAD//wEAAQAIAAQAAAD//wAAAQAIAAQAAAD//wsAAQAIAAQAAAD//wwAAQAIAAQAAAAAAAwAAQAIAAQAAAABAAwAAQAIAAQAAAACAAwAAQAIAAQAAAADAAwAAQAIAAQAAAAEAAwAAQAIAAQAAAAFAAwAAQAIAAQAAAAGAAwAAQAIAAQAAAAHAAwAAQAIAAQAAAAIAAwAAQAIAAQAAAAJAAwAAQAIAAQAAAAKAAwAAQAIAAQAAAALAAwAAQAIAAQAAAAMAAwAAQAIAAQAAAANAAwAAQAIAAQAAAAOAAwAAQAIAAQAAAAPAAwAAQAIAAQAAAAQAAwAAQAIAAQAAAARAAwAAQAIAAQAAAASAAwAAQAIAAQAAAATAAwAAQAIAAQAAAAUAAwAAQAIAAQAAAAUAAsAAQAIAAQAAAAUAAoAAQAIAAQAAAAUAAkAAQAIAAQAAAAUAAgAAQAIAAQAAAAUAAcAAQAIAAQAAAAUAAYAAQAIAAQAAAAUAAUAAQAIAAQAAAAUAAQAAQAIAAQAAAAUAAMAAQAIAAQAAAAUAAIAAQAIAAQAAAAUAAEAAQAIAAQAAAAUAAAAAQAIAAQAAAAUAP//AQAIAAQAAAATAP//AQAKAAQAAAASAP//AQAKAAQAAAARAP//AQAKAAQAAAAQAP//AQAKAAQAAAAPAP//AQAKAAQAAAAOAP//AQAKAAQAAAANAP//AQAKAAQAAAAMAP//AQAKAAQAAAALAP//AQAKAAQAAAAKAP//AQAKAAQAAAAJAP//AQAKAAQAAAAIAP//AQAKAAQAAAAHAP//AQAKAAQAAAAGAP//AQAKAAQAAAAFAP//AQAKAAQAAAAEAP//AQAKAAQAAAADAP//AQAKAAQAAAACAP//AQAKAAQAAAABAP//AQAKAAQAAAAAAP//AQAKAAQAAAD/////AQAIAAQAAAAAAAAAAAABAAQAAAAAAAEAAAAAAAQAAAAAAAIAAAAAAAQAAAAAAAMAAAAAAAQAAAAAAAQAAAABAAQAAAAAAAUAAAAAAAQAAAAAAAYAAAACAAQAAAAAAAcAAAABAAQAAAAAAAgAAAAAAAQAAAAAAAkAAAABAAQAAAAAAAoAAAAAAAQAAAABAAAAAAAAAAQAAAABAAEAAAAAAAQAAAABAAIAAAAAAAQAAAABAAMAAAAAAAQAAAABAAQAAAAAAAQAAAABAAUAAAAAAAQAAAABAAYAAAADAAQAAAABAAcAAAAGAAMAAAABAAgAAAAAAAQAAAABAAkAAAAAAAQAAAABAAoAAAAAAAQAAAACAAAAAAAAAAQAAAACAAEAAAAAAAQAAAACAAIAAAAAAAQAAAACAAMAAAABAAQAAAACAAQAAAAAAAQAAAACAAUAAAAAAAQAAAACAAYAAAACAAQAAAACAAcAAAAGAAMAAAACAAgAAAAAAAQAAAACAAkAAAAAAAQAAAACAAoAAAAAAAQAAAADAAAAAAAAAAQAAAADAAEAAAABAAQAAAADAAIAAAAAAAQAAAADAAMAAAAAAAQAAAADAAQAAAAAAAQAAAADAAUAAAAAAAQAAAADAAYAAAACAAQAAAADAAcAAAAGAAMAAAADAAgAAAAAAAQAAAADAAkAAAAAAAQAAAADAAoAAAAAAAQAAAAEAAAAAAAAAAQAAAAEAAEAAAAAAAQAAAAEAAIAAAAAAAQAAAAEAAMAAAABAAQAAAAEAAQAAAAAAAQAAAAEAAUAAAAAAAQAAAAEAAYAAAAAAAQAAAAEAAcAAAAAAAQAAAAEAAgAAAAAAAQAAAAEAAkAAAAAAAQAAAAEAAoAAAAAAAQAAAAFAAAAAAAAAAQAAAAFAAEAAAAAAAQAAAAFAAIAAAAAAAQAAAAFAAMAAAAAAAQAAAAFAAQAAAAAAAQAAAAFAAUAAAABAAQAAAAFAAYAAAAAAAQAAAAFAAcAAAABAAQAAAAFAAgAAAAAAAQAAAAFAAkAAAAAAAQAAAAFAAoAAAABAAQAAAAGAAAAAAAAAAQAAAAGAAEAAAAAAAQAAAAGAAIAAAAAAAQAAAAGAAMAAAABAAQAAAAGAAQAAAAAAAQAAAAGAAUAAAAAAAQAAAAGAAYAAAABAAQAAAAGAAcAAAAGAAMAAAAGAAgAAAAAAAQAAAAGAAkAAAAAAAQAAAAGAAoAAAAAAAQAAAAHAAAAAAAAAAQAAAAHAAEAAAAAAAQAAAAHAAIAAAAAAAQAAAAHAAMAAAABAAQAAAAHAAQAAAAAAAQAAAAHAAUAAAAAAAQAAAAHAAYAAAAAAAQAAAAHAAcAAAAGAAMAAAAHAAgAAAAAAAQAAAAHAAkAAAAAAAQAAAAHAAoAAAAAAAQAAAAIAAAAAAAAAAQAAAAIAAEAAAAAAAQAAAAIAAIAAAAAAAQAAAAIAAMAAAABAAQAAAAIAAQAAAAAAAQAAAAIAAUAAAAAAAQAAAAIAAYAAAABAAQAAAAIAAcAAAAAAAQAAAAIAAgAAAAAAAQAAAAIAAkAAAAAAAQAAAAIAAoAAAAAAAQAAAAJAAAAAAAEAAAAAAAJAAEAAAADAAEAAAAJAAIAAAAEAAEAAAAJAAMAAAAJAAQAAAAJAAUAAAACAAQAAAAJAAYAAAAAAAQAAAAJAAcAAAAGAAMAAAAJAAgAAAAAAAQAAAAJAAkAAAAAAAQAAAAJAAoAAAAAAAQAAAAKAAAAAAACAAIAAAAKAAEAAAAAAAAAAAAKAAIAAAACAAAAAAAKAAMAAAAEAAMAAAAKAAUAAAACAAQAAAAKAAYAAAAGAAMAAAAKAAcAAAAGAAMAAAAKAAgAAAAAAAQAAAAKAAkAAAAEAAAAAAAKAAoAAAADAAEAAAALAAAAAAACAAIAAAALAAEAAAAAAAAAAAALAAIAAAACAAAAAAALAAMAAAAJAAEAAAALAAQAAAADAAMAAAALAAUAAAACAAQAAAALAAcAAAAAAAQAAAALAAgAAAAAAAQAAAALAAkAAAACAAIAAAALAAoAAAAAAAAAAAAMAAAAAAACAAIAAAAMAAEAAAAAAAAAAAAMAAIAAAACAAAAAAAMAAMAAAAEAAMAAAAMAAUAAAACAAQAAAAMAAYAAAAGAAMAAAAMAAcAAAAAAAQAAAAMAAgAAAAEAAAAAAAMAAkAAAADAAIAAAANAAAAAAACAAIAAAANAAEAAAAAAAEAAAANAAIAAAACAAAAAAANAAMAAAAEAAIAAAANAAUAAAADAAQAAAANAAYAAAAGAAMAAAANAAcAAAABAAQAAAANAAgAAAACAAIAAAANAAkAAAAAAAAAAAANAAoAAAABAAAAAAAOAAAAAAACAAIAAAAOAAEAAAAAAAAAAAAOAAIAAAACAAAAAAAOAAMAAAAFAAIAAAAOAAUAAAACAAQAAAAOAAYAAAAAAAQAAAAOAAcAAAAAAAQAAAAOAAgAAAACAAIAAAAOAAkAAAAAAAAAAAAOAAoAAAACAAAAAAAPAAAAAAAFAAAAAAAPAAEAAAABAAEAAAAPAAIAAAAFAAEAAAAPAAMAAAALAAQAAAAPAAUAAAADAAQAAAAPAAYAAAAGAAMAAAAPAAcAAAABAAQAAAAPAAgAAAACAAIAAAAPAAkAAAAAAAAAAAAPAAoAAAACAAAAAAAQAAAAAAABAAQAAAAQAAEAAAAAAAQAAAAQAAIAAAAAAAQAAAAQAAMAAAAAAAQAAAAQAAQAAAABAAQAAAAQAAUAAAAAAAQAAAAQAAYAAAAGAAMAAAAQAAcAAAAAAAQAAAAQAAgAAAACAAIAAAAQAAkAAAAAAAAAAAAQAAoAAAACAAAAAAARAAAAAAAAAAQAAAARAAEAAAAAAAQAAAARAAIAAAAAAAQAAAARAAMAAAAAAAQAAAARAAQAAAAAAAQAAAARAAUAAQAFAAMAAAARAAYAAAAGAAMAAAARAAcAAQAEAAMAAAARAAgAAAAFAAAAAAARAAkAAAABAAEAAAARAAoAAAAFAAEAAAASAAAAAAAAAAQAAAASAAEAAAAAAAQAAAASAAIAAAAAAAQAAAASAAMAAAAAAAQAAAASAAQAAAAAAAQAAAASAAUAAQABAAMAAAASAAYAAQAHAAMAAAASAAcAAQABAAEAAAASAAgAAAAAAAQAAAASAAkAAAAAAAQAAAASAAoAAAAAAAQAAAATAAAAAAABAAQAAAATAAEAAAAAAAQAAAATAAIAAAABAAQAAAATAAMAAAAAAAQAAAATAAQAAQAFAAMAAAATAAUAAQACAAMAAAATAAYAAQAHAAMAAAATAAcAAQABAAEAAAATAAgAAAABAAQAAAATAAkAAAABAAQAAAATAAoAAAABAAQAAAATAAsAAAAAAAQAAAASAAsAAAABAAQAAAARAAsAAAALAAQAAAAQAAsAAAAEAAMAAAAPAAsAAAAEAAIAAAAOAAsAAAAEAAMAAAANAAsAAAABAAEAAAAMAAsAAAAAAAAAAAALAAsAAAAAAAAAAAAKAAsAAAADAAEAAAAJAAsAAAAAAAQAAAAIAAsAAAAAAAQAAAAHAAsAAAAAAAQAAAAGAAsAAAAAAAQAAAAFAAsAAAAAAAQAAAAEAAsAAAAAAAQAAAADAAsAAAAAAAQAAAACAAsAAAAAAAQAAAABAAsAAAABAAQAAAAAAAsAAAAAAAQAAAAMAAQAAAACAAEAAAANAAQAAAAEAAMAAAAOAAQAAAACAAEAAAAPAAQAAAALAAQAAAAJAAQAAAAJAAQAAAAKAAQAAAACAAEAAAALAAYAAAABAAQAAAAMAAoAAAAAAAAAAAA=")
tile_set = ExtResource("2_75ijf")

[node name="Environment" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAASAAIAAAAAAAYAAAATAAIAAAABAAYAAAASAAEAAAABAAYAAAAHAAgAAAAFAAYAAAAGAAgAAAAEAAYAAAAIAAgAAAAGAAYAAAAEAAgAAAAGAAYAAAADAAgAAAAFAAYAAAACAAgAAAAEAAYAAAAGAAsAAAAGAAUAAAAIAAsAAAAGAAUAAAAEAAsAAAAGAAUAAAACAAsAAAAGAAUAAAACAAoAAAAEAAUAAAAGAAoAAAAEAAUAAAAIAAoAAAAEAAUAAAAEAAoAAAAFAAUAAAACAAUAAAAJAAMAAAADAAUAAAALAAQAAAAAAAUAAAAJAAQAAAABAAUAAAAEAAMAAAABAAQAAAACAAAAAAACAAQAAAACAAAAAAAAAAQAAAAEAAEAAAADAAQAAAAFAAEAAAAAAAMAAAADAAEAAAAAAAIAAAADAAEAAAAAAAEAAAAEAAAAAAABAAEAAAACAAIAAAACAAEAAAACAAIAAAADAAEAAAACAAIAAAAEAAEAAAACAAIAAAAFAAEAAAAFAAAAAAAFAAMAAAAFAAEAAAADAAMAAAABAAAAAAAEAAMAAAACAAAAAAAFAAIAAAABAAEAAAAEAAIAAAAAAAAAAAADAAIAAAAAAAAAAAACAAIAAAAAAAAAAAABAAIAAAAAAAEAAAABAAMAAAAAAAAAAAACAAMAAAAAAAAAAAAEAAQAAAAEAAMAAAAFAAQAAAALAAQAAAAHAAAAAAACAAYAAAAHAAEAAAABAAYAAAAIAAEAAAAGAAgAAAAAAAAAAAADAAUAAAABAAAAAAADAAUAAAA=")
tile_set = ExtResource("2_75ijf")

[node name="Hauntable" type="Node2D" parent="."]

[node name="Sword" parent="Hauntable" instance=ExtResource("3_mgual")]
position = Vector2(248, 104)

[node name="Sword2" parent="Hauntable" instance=ExtResource("3_mgual")]
position = Vector2(120, 104)

[node name="Characters" type="Node2D" parent="."]

[node name="Timmy" parent="Characters" node_paths=PackedStringArray("path") instance=ExtResource("8_klvtt")]
position = Vector2(296, 104)
path = NodePath("../../Paths/Timmy")

[node name="Warrior" parent="Characters" instance=ExtResource("9_gdxcn")]
position = Vector2(200, 104)

[node name="Ghost" parent="." node_paths=PackedStringArray("target") instance=ExtResource("11_n4aqk")]
position = Vector2(312, 104)
target = NodePath("../Characters/Timmy")

[node name="Foreground" type="TileMapLayer" parent="."]
tile_set = ExtResource("2_75ijf")

[node name="Triggers" type="Node2D" parent="."]

[node name="EndTrigger" parent="Triggers" node_paths=PackedStringArray("targets") instance=ExtResource("12_uvuj5")]
position = Vector2(8, 120)
script = SubResource("GDScript_a6lyq")
targets = [NodePath("../../Characters/Timmy")]

[node name="Paths" type="Node2D" parent="."]

[node name="Timmy" type="Node2D" parent="Paths"]

[node name="Marker2D" type="Marker2D" parent="Paths/Timmy"]
position = Vector2(168, 104)

[node name="Marker2D2" type="Marker2D" parent="Paths/Timmy"]
position = Vector2(168, 120)

[node name="Marker2D4" type="Marker2D" parent="Paths/Timmy"]
position = Vector2(8, 120)

[node name="LevelStartTimer" type="Timer" parent="."]
wait_time = 0.5

[connection signal="timmy_dies" from="Characters/Timmy" to="." method="_on_timmy_timmy_dies"]
